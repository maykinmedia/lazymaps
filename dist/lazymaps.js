!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("babel-runtime/core-js/get-iterator"),require("babel-runtime/helpers/toConsumableArray"),require("babel-runtime/core-js/promise"),require("babel-runtime/helpers/classCallCheck"),require("babel-runtime/helpers/createClass"),require("babel-polyfill"));else if("function"==typeof define&&define.amd)define(["babel-runtime/core-js/get-iterator","babel-runtime/helpers/toConsumableArray","babel-runtime/core-js/promise","babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass","babel-polyfill"],t);else{var r="object"==typeof exports?t(require("babel-runtime/core-js/get-iterator"),require("babel-runtime/helpers/toConsumableArray"),require("babel-runtime/core-js/promise"),require("babel-runtime/helpers/classCallCheck"),require("babel-runtime/helpers/createClass"),require("babel-polyfill")):t(e["babel-runtime/core-js/get-iterator"],e["babel-runtime/helpers/toConsumableArray"],e["babel-runtime/core-js/promise"],e["babel-runtime/helpers/classCallCheck"],e["babel-runtime/helpers/createClass"],e["babel-polyfill"]);for(var a in r)("object"==typeof exports?exports:e)[a]=r[a]}}(this,function(e,t,r,a,o,l){return function(e){function t(a){if(r[a])return r[a].exports;var o=r[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return t?[].concat((0,u.default)(document.querySelectorAll(e))).map(function(e){return new g(e,t)}):void l()}function l(){console.warn("No Google Maps API key provided, please pass key as second argument.")}Object.defineProperty(t,"__esModule",{value:!0}),t.lazymaps=t.GMap=t.GOOGLE_MAPS_API=void 0;var s=r(1),i=a(s),n=r(2),u=a(n),p=r(3),c=a(p),m=r(4),b=a(m),d=r(5),f=a(d);r(6);var h=t.GOOGLE_MAPS_API="https://maps.googleapis.com/maps/api/js",g=function(){function e(t,r){return(0,b.default)(this,e),r?(this.map=t,this.googleMapsSrc=h+"?key="+r,this.setUpGoogleMaps()):void l()}return(0,f.default)(e,[{key:"setUpGoogleMaps",value:function(){return this.installGoogleMapsApi().then(this.createMap.bind(this))}},{key:"installGoogleMapsApi",value:function(){if(!this.isGoogleMapsApiInstalled()){var e=document.createElement("script");e.src=this.googleMapsSrc,document.head.appendChild(e)}return new c.default(function(e){function t(){if(window.google&&window.google.maps)return void e();setTimeout(t,100)}setTimeout(t,100)})}},{key:"isGoogleMapsApiInstalled",value:function(){var e=this;return!![].concat((0,u.default)(document.scripts)).find(function(t){return t.src===e.googleMapsSrc})}},{key:"createMap",value:function(){var e=this;if(!this.map.dataset.coordinates||!this.map.dataset.zoom)return void console.warn("Please set data-cooordinates and data-zoom on the node you want to use as Google Maps instance.");this.geocoder=new google.maps.Geocoder;var t=parseFloat(this.map.dataset.coordinates.split(",")[0]),r=parseFloat(this.map.dataset.coordinates.split(",")[1]),a=parseInt(this.map.dataset.zoom);if(t&&r&&a){this.googleMap=new google.maps.Map(this.map,{center:{lat:t,lng:r},zoom:a,disableDefaultUI:!0});var o=this.map.dataset.markers;if(o){o=JSON.parse(o);var l=!0,s=!1,n=void 0;try{for(var u,p=(0,i.default)(o);!(l=(u=p.next()).done);l=!0)!function(){var t=u.value,r=parseFloat(t.latitude),a=parseFloat(t.longitude),o=new google.maps.InfoWindow({content:t.html||"<h1>"+(t.label||t.title)+"</h1><p>"+t.description+"</p>"}),l=new google.maps.Marker({map:e.googleMap,position:{lat:r,lng:a},title:t.label,optimized:!1});e.map.dataset.markerIcon&&(l.icon={url:e.map.dataset.markerIcon,scaledSize:new google.maps.Size(16,27)}),l.addListener("click",function(){o.open(e.googleMap,l)})}()}catch(e){s=!0,n=e}finally{try{!l&&p.return&&p.return()}finally{if(s)throw n}}}}}}]),e}();t.default=g,t.GMap=g,t.lazymaps=o},function(e,t){e.exports=require("babel-runtime/core-js/get-iterator")},function(e,t){e.exports=require("babel-runtime/helpers/toConsumableArray")},function(e,t){e.exports=require("babel-runtime/core-js/promise")},function(e,t){e.exports=require("babel-runtime/helpers/classCallCheck")},function(e,t){e.exports=require("babel-runtime/helpers/createClass")},function(e,t){e.exports=require("babel-polyfill")}])});